(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{10:function(e,t){e.exports={set:function(e){var t=e.username,a=e.token,n=e.photo;window.localStorage.setItem("user",JSON.stringify({username:t,token:a,photo:n}))},get:function(){var e={},t=window.localStorage.getItem("user");if(t)try{e=JSON.parse(t)}catch(a){}return e},remove:function(){window.localStorage.removeItem("user")}}},101:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},150:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(34),o=a.n(c),i=(a(77),a(25)),s=a(18),l=(a(78),a(79),a(71)),m=function(e){var t=e.repo,a=e.createdAt;e.username,e.visitData;return r.a.createElement("div",{className:"card-container"},r.a.createElement("div",{className:"card-description"},r.a.createElement("a",{href:"/".concat(t)},t)),r.a.createElement("div",{className:"project-trend"},r.a.createElement(l.a,{smooth:!0,autoDraw:!0,autoDrawDuration:2e3,autoDrawEasing:"ease-out",data:[0,2,5,9,5,10,3,5,0,0,1,8,2,9,0],gradient:["#d7ecad","#9cd696","#2ebc4f"],radius:0,strokeWidth:1.7,strokeLinecap:"square"})),r.a.createElement("div",{className:"card-footer"},"Recoding analytics since ",a.slice(0,10)))};a(82);var u,h=function(e){var t=e.user;return r.a.createElement("div",null,r.a.createElement("div",{className:"home-hero"},r.a.createElement("h1",{className:"home-slogan"},"Thorough analytics for your GitHub repos"),t.username?"":r.a.createElement("a",{className:"home-signin-btn",href:"https://repo-analytics.t9t.io/auth/github"},"Sign in with GitHub"),r.a.createElement("div",{className:"home-features"},r.a.createElement("div",{className:"home-feature"},r.a.createElement("h4",{className:"home-feature-title"},"Better traffic data"),r.a.createElement("p",{className:"home-feature-description"},"Track traffic to GitHub Repos for longer than 14 days.")),r.a.createElement("div",{className:"home-feature"},r.a.createElement("h4",{className:"home-feature-title"},"Understand your users"),r.a.createElement("p",{className:"home-feature-description"},"Analyze history, locations of Star, Clone, Fork data of your GitHub Repos")))),r.a.createElement("div",{className:"home-container"},r.a.createElement("h2",{className:"home-example-title"},"Example repos using ",r.a.createElement("strong",null,"Repo Analytics")),r.a.createElement("div",{className:"home-examples"},r.a.createElement("div",{className:"home-box"},r.a.createElement(m,{repo:"repo-analytics/repo-analytics.github.io",username:"timqian",createdAt:"2019-10-09-"})),r.a.createElement("div",{className:"home-box"},r.a.createElement(m,{repo:"timqian/chart.xkcd",username:"timqian",createdAt:"2019-10-09-"})),r.a.createElement("div",{className:"home-box"},r.a.createElement(m,{repo:"t9tio/open-source-jobs",username:"timqian",createdAt:"2019-10-09-"})),r.a.createElement("div",{className:"home-box"},r.a.createElement(m,{repo:"timqian/star-history",username:"timqian",createdAt:"2019-10-09-"})))),r.a.createElement("hr",{className:"home-hr"}),r.a.createElement("div",{className:"home-container"},r.a.createElement("h2",{className:"home-example-title"},"What data do we analyze")))},d=a(16),p=a(12),f=a.n(p),E=a(23),v=a(54),g=a.n(v),w=window.localStorage.getItem("user");w&&(u=JSON.parse(w).token);var y=g.a.create({baseURL:"http://localhost:8080/",timeout:2e4,headers:{token:u}}),b={getUserRepos:function(){var e=Object(E.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/user/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data.repos);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getRepoTraffic:function(){var e=Object(E.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.repoPath,e.next=3,y.get("/repo/".concat(a));case 3:return n=e.sent,e.abrupt("return",n.data.traffic);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addRepo:function(){var e=Object(E.a)(f.a.mark((function e(t){var a,n,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.repoPath,r=t.token,e.next=3,y.post("/repo/add",{username:a,repoPath:n,token:r});case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N=(a(47),a(10)),x=a.n(N),k=a(29),S=function(){return r.a.createElement(k.a,{height:220,width:900,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#d6d6d6"},r.a.createElement("rect",{x:"9",y:"19",rx:"0",ry:"0",width:"432",height:"179"}),r.a.createElement("rect",{x:"460",y:"19",rx:"0",ry:"0",width:"426",height:"179"}),r.a.createElement("rect",{x:"494",y:"24",rx:"0",ry:"0",width:"0",height:"13"}),r.a.createElement("rect",{x:"394",y:"85",rx:"0",ry:"0",width:"0",height:"0"}))},O=(a(101),a(55)),j=function(){var e=x.a.get(),t=Object(n.useState)(),a=Object(d.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(!1),s=Object(d.a)(i,2),l=s[0],m=s[1];function u(){return(u=Object(E.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,m(!0),t.next=4,b.addRepo({username:e.username,repoPath:c,token:e.token});case 4:window.location="/".concat(c),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),m(!1),Object(O.alert)({type:"error",text:'Failed: "'.concat(t.t0.response.data,'"'),stay:!1,time:3,position:"top"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"home-box"},r.a.createElement("div",{className:"add-new"},r.a.createElement("input",{placeholder:"e.g. ".concat(e.username,"/repo-name"),className:"repo-input",onChange:function(e){return o(e.target.value)}}),r.a.createElement("button",{className:"".concat(l?"isLoading":""," add-repo-btn"),onClick:function(){return function(){return u.apply(this,arguments)}()}},l?"Adding":"Add repo")))};var C=function(e){var t=e.match.params.username,a=x.a.get(),c=Object(n.useState)([]),o=Object(d.a)(c,2),i=o[0],s=o[1],l=Object(n.useState)(!1),u=Object(d.a)(l,2),h=u[0],p=u[1];return Object(n.useEffect)((function(){p(!0),b.getUserRepos(t).then((function(e){s(e),p(!1)}))}),[]),r.a.createElement("div",{className:"home-container"},r.a.createElement("h1",{className:"user-title"},"Repos of\xa0",r.a.createElement("a",{className:"user-github-link",href:"https://github.com/".concat(t)},t),r.a.createElement("a",{className:"user-github-link",href:"https://github.com/".concat(t)},r.a.createElement("i",{className:"ri-github-line"}))),h?r.a.createElement(S,null):"",r.a.createElement("div",{className:"home-examples"},i.map((function(e){return r.a.createElement("div",{className:"home-box"},r.a.createElement(m,{repo:e.repo.S,username:e.username.S,createdAt:e.createdAt.S}))})),a.username===t?r.a.createElement(j,null):""))},A=function(){return r.a.createElement(k.a,{height:160,width:400,speed:1,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},r.a.createElement("rect",{x:"0",y:"13",rx:"4",ry:"4",width:"400",height:"9"}),r.a.createElement("rect",{x:"0",y:"29",rx:"4",ry:"4",width:"100",height:"8"}),r.a.createElement("rect",{x:"0",y:"50",rx:"4",ry:"4",width:"400",height:"10"}),r.a.createElement("rect",{x:"0",y:"65",rx:"4",ry:"4",width:"400",height:"10"}),r.a.createElement("rect",{x:"0",y:"79",rx:"4",ry:"4",width:"100",height:"10"}),r.a.createElement("rect",{x:"0",y:"99",rx:"5",ry:"5",width:"400",height:"200"}))},R=a(24),q=a.n(R),D=(a(110),function(e){var t=e.trafficData.views,a=t.map((function(e){return{x:e.timestamp,y:e.count}})),c=t.map((function(e){return{x:e.timestamp,y:e.uniques}}));return Object(n.useEffect)((function(){var e=document.querySelector(".visit-chart");new q.a.XY(e,{data:{datasets:[{label:"Views",data:a},{label:"Unique Visitors",data:c}]},options:{xTickCount:3,yTickCount:4,legendPosition:q.a.config.positionType.upLeft,showLine:!0,timeFormat:"MM/DD/YYYY",dotSize:.5,dataColors:["#28a745","#005cc5"],unxkcdify:!0}})}),[]),r.a.createElement("div",{className:"chart-container"},r.a.createElement("h3",{className:"chart-container-header"}," Visitors "),r.a.createElement("div",{className:"svg-container"},r.a.createElement("svg",{className:"visit-chart"})))}),T=function(e){var t=e.trafficData.clones,a=t.map((function(e){return{x:e.timestamp,y:e.count}})),c=t.map((function(e){return{x:e.timestamp,y:e.uniques}}));return Object(n.useEffect)((function(){var e=document.querySelector(".clone-chart");new q.a.XY(e,{data:{datasets:[{label:"Clones",data:a},{label:"Unique Clones",data:c}]},options:{xTickCount:3,yTickCount:4,legendPosition:q.a.config.positionType.upLeft,showLine:!0,timeFormat:"MM/DD/YYYY",dotSize:.5,dataColors:["#28a745","#005cc5"],unxkcdify:!0}})}),[]),r.a.createElement("div",{className:"chart-container"},r.a.createElement("h3",{className:"chart-container-header"}," Git clones "),r.a.createElement("div",{className:"svg-container"},r.a.createElement("svg",{className:"clone-chart"})))};a(111),a(149),a(141);var Y=function(e){var t=e.match,a=t.params.username,c=t.params.repo,o=Object(n.useState)({}),i=Object(d.a)(o,2),s=i[0],l=i[1],m=Object(n.useState)(!1),u=Object(d.a)(m,2),h=u[0],p=u[1];return Object(n.useEffect)((function(){p(!0),b.getRepoTraffic({repoPath:"".concat(a,"/").concat(c)}).then((function(e){l(e),p(!1)})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement("div",null,r.a.createElement("div",{className:"repo-header"},r.a.createElement("div",{className:"repo-container"},r.a.createElement("h1",{className:"repo-title"},r.a.createElement("a",{className:"user-github-link",href:"https://github.com/".concat(a,"/").concat(c)},"".concat(a,"/").concat(c),r.a.createElement("i",{className:"ri-github-line"}))),r.a.createElement("nav",{className:"repo-nav"},r.a.createElement("a",{href:!0,className:"selected"},"Traffics"),r.a.createElement("a",{href:!0},"Star analytics")))),r.a.createElement("div",{className:"repo-container"},s.repoCreatedAt?r.a.createElement("div",{className:"dates-container"},r.a.createElement("p",null,"Updated at ",s.date),r.a.createElement("p",null,"Recoding analytics since ",s.repoCreatedAt.slice(0,10))):"",h?r.a.createElement(A,null):"",s.views?r.a.createElement(D,{trafficData:s}):"",s.clones?r.a.createElement(T,{trafficData:s}):""))},P=a(68),I=a.n(P);function L(){return r.a.createElement("div",null,r.a.createElement("h2",null,"About"))}function U(e){var t=e.match;return r.a.createElement("div",null,r.a.createElement("h2",null,"Topics"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"".concat(t.url,"/rendering")},"Rendering with React")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"".concat(t.url,"/components")},"Components")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"".concat(t.url,"/props-v-state")},"Props v. State"))),r.a.createElement(s.a,{path:"".concat(t.path,"/:topicId"),component:G}),r.a.createElement(s.a,{exact:!0,path:t.path,render:function(){return r.a.createElement("h3",null,"Please select a topic.")}}))}function G(e){var t=e.match;return r.a.createElement("div",null,r.a.createElement("h3",null,t.params.topicId))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(148);o.a.render(r.a.createElement((function(){var e=x.a.get();if(window.location.search.length>0)try{var t=I.a.parse(window.location.search);x.a.set({username:t.username,token:t.token,photo:t.photo}),e=x.a.get(),window.history.replaceState({},document.title,window.location.origin+window.location.pathname)}catch(a){console.log("bad query string")}return r.a.createElement(i.a,null,r.a.createElement("header",null,r.a.createElement("div",{className:"header-left"},r.a.createElement("img",{src:"/logo.png",alt:"logo",width:"30px"}),"\xa0",r.a.createElement(i.b,{to:"/",className:"header-link"},"Repo Analytics")),r.a.createElement("div",null,e.username?r.a.createElement("div",{className:"dropdown"},r.a.createElement("a",{className:"header-link",href:!0},e.username," ",r.a.createElement("span",{style:{fontSize:"10px"}},"\u25bc")),r.a.createElement("div",{className:"dropdown-content"},r.a.createElement("a",{href:"/".concat(e.username)},"Your profile"),r.a.createElement("a",{href:"/".concat(e.username)},"Add repo"),r.a.createElement("hr",null),r.a.createElement("a",{href:!0,onClick:function(){x.a.remove(),window.location.reload()}},"Sign out"))):r.a.createElement("a",{className:"header-link",href:"https://repo-analytics.t9t.io/auth/github"},"Sign in with GitHub"))),r.a.createElement(s.a,{exact:!0,path:"/"},r.a.createElement(h,{user:e})),r.a.createElement(s.a,{path:"/about",component:L}),r.a.createElement(s.a,{path:"/topics",component:U}),r.a.createElement(s.a,{exact:!0,path:"/:username",component:C}),r.a.createElement(s.a,{exact:!0,path:"/:username/:repo",component:Y}))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},47:function(e,t,a){},72:function(e,t,a){e.exports=a(150)},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},82:function(e,t,a){}},[[72,1,2]]]);
//# sourceMappingURL=main.caa00cd3.chunk.js.map